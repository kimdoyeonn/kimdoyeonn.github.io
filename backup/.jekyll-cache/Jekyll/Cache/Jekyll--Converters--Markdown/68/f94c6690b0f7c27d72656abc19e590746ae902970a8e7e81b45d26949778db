I"Î<ul>
  <li>ì°¸ê³ : <a href="https://tutorial.djangogirls.org/ko/django_orm/">ì¥ê³ ê±¸ìŠ¤</a></li>
</ul>

<h3 id="orm">ORM</h3>

<ul>
  <li>ê° ì–¸ì–´ë³„ë¡œ ìˆëŠ” ê¸°ëŠ¥</li>
  <li>ì›ë˜ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ì–´ë–¤ ë°ì´í„°ë¥¼ ì¡°íšŒ, ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ ë“±ì„ í•  ë•ŒëŠ” sqlì´ë¼ëŠ” ì–¸ì–´ë¥¼ ì‚¬ìš©í•´ì•¼í•˜ëŠ”ë° sqlì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  íŒŒì´ì¬ì´ë¼ë©´ íŒŒì´ì¬ ì½”ë“œë¡œ, ìë°”ë¼ë©´ ìë°” ì½”ë“œë¡œ, ê° ì–¸ì–´ ê·¸ëŒ€ë¡œë¥¼ í™œìš©í•´ì„œ sql ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë‚´ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆë‹¤. ê·¸ê±¸ ORMì´ë¼ê³  í•œë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">Django Model</code>ì´ ì¥ê³ ì˜ ORMì´ë‹¤.</li>
</ul>

<h3 id="ì¿¼ë¦¬ì…‹">ì¿¼ë¦¬ì…‹</h3>

<ul>
  <li>ì „ë‹¬ë°›ì€ ëª¨ë¸ì˜ ê°ì²´ ëª©ë¡</li>
  <li>ì¿¼ë¦¬ì…‹ì€ ë°ì´í„°ë² ì´ìŠ¤ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì½ê³ , í•„í„°ë¥¼ ê±¸ê±°ë‚˜ ì •ë ¬í•œë‹¤.</li>
</ul>

<h3 id="ì¥ê³ -ì‰˜">ì¥ê³  ì‰˜</h3>

<p>ë¡œì»¬ ì½˜ì†”ì—ì„œ</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>myvenv/Scripts/activate
(myvenv) python manage.py shell
.
.
.
(InteractiveConsole)
&gt;&gt;&gt;
</code></pre></div></div>

<p>ìœ„ì™€ ê°™ì€ ë¬¸ìì—´ì´ ëœ¨ë©´ ì¥ê³  ì¸í„°ë ‰í‹°ë¸Œ ì½˜ì†”(interactive console)ë¡œ ë“¤ì–´ì˜¨ ê²ƒì´ë‹¤. íŒŒì´ì¬ í”„ë¡¬í”„íŠ¸ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ ì¥ê³ ë§Œì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³³ì´ê¸°ë„ í•˜ë‹¤. íŒŒì´ì¬ì˜ ëª¨ë“  ëª…ë ¹ì–´ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ</p>

<h3 id="ëª¨ë“ -ê°ì²´-ì¡°íšŒí•˜ê¸°">ëª¨ë“  ê°ì²´ ì¡°íšŒí•˜ê¸°</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">blog.models</span> <span class="kn">import</span> <span class="n">Post</span>
<span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">all</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="ê°ì²´-ìƒì„±í•˜ê¸°">ê°ì²´ ìƒì„±í•˜ê¸°</h3>

<p>ë°ì´í„°ë² ì´ìŠ¤ì— ìƒˆ ê¸€ ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” ë°©ë²•</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">User</span>
<span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">all</span><span class="p">()</span> <span class="c1"># &lt;QuerySet [&lt;User: doyeon&gt;, &lt;User: yeon&gt;]&gt;
</span><span class="n">me</span> <span class="o">=</span> <span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">'doyeon'</span><span class="p">)</span>
<span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">auther</span><span class="o">=</span><span class="n">me</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">'Sample title'</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s">'Text'</span><span class="p">)</span>
<span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">all</span><span class="p">()</span> <span class="c1"># ê²Œì‹œë¬¼ì´ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€ í™•ì¸
</span></code></pre></div></div>

<h3 id="í•„í„°ë§í•˜ê¸°">í•„í„°ë§í•˜ê¸°</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">auther</span><span class="o">=</span><span class="n">me</span><span class="p">)</span> <span class="c1"># ì‘ì„±ìê°€ meì¸ ê²Œì‹œê¸€
</span><span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">title__contains</span><span class="o">=</span><span class="s">'title'</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>titleê³¼ contains ì‚¬ì´ì—ëŠ” ì–¸ë”ë°” 2ê°œê°€ ë“¤ì–´ê°„ë‹¤.</p>

  <p>ì¥ê³  ORMì€ í•„ë“œ ì´ë¦„(â€˜titleâ€™)ê³¼ ì—°ì‚°ìì™€ í•„í„°(â€˜containsâ€™)ë¥¼ ì–¸ë”ë°” ë‘ê°œë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ë¶„í•œë‹¤.</p>
</blockquote>

<ul>
  <li>
    <p>ê²Œì‹œì¼(<code class="language-plaintext highlighter-rouge">published_date</code>)ë¡œ ê³¼ê±°ì— ì‘ì„±í•œ ê¸€ì„ í•„í„°ë§</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.utils</span> <span class="kn">import</span> <span class="n">timezone</span>
  
<span class="n">post</span> <span class="o">=</span> <span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">'Sample title'</span><span class="p">)</span>
<span class="n">post</span><span class="p">.</span><span class="n">publish</span><span class="p">()</span> <span class="c1"># ê²Œì‹œ
</span>  
<span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">published_date__lte</span><span class="o">=</span><span class="n">timezone</span><span class="p">.</span><span class="n">now</span><span class="p">())</span> <span class="c1"># ë¨¼ì € ê²Œì‹œí•˜ë ¤ëŠ” ê²Œì‹œë¬¼ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì–»ì–´ì•¼í•œë‹¤.
# lte = less than equal ì‘ê±°ë‚˜ ê°™ë‹¤
# published_date__lte = timezone.now() ë°œìƒëœ ì‹œê°„ì´ í˜„ì¬ ì‹œê°„ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ê²½ìš°ë¥¼ í•„í„°ë§í•´ì„œ ë³´ì—¬ì¤€ë‹¤.
</span></code></pre></div>    </div>
  </li>
</ul>

<h3 id="ì •ë ¬í•˜ê¸°">ì •ë ¬í•˜ê¸°</h3>

<p><code class="language-plaintext highlighter-rouge">created_date</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ë“œë¥¼ ì •ë ¬</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">order_by</span><span class="p">(</span><span class="s">'created_date'</span><span class="p">)</span> <span class="c1"># ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
</span><span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">order_by</span><span class="p">(</span><span class="s">'-created_date'</span><span class="p">)</span> <span class="c1"># '-'ë¥¼ ë¶™ì—¬ì¤„ ê²½ìš° ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
</span></code></pre></div></div>

<h3 id="ì¿¼ë¦¬ì…‹-ì—°ê²°í•˜ê¸°">ì¿¼ë¦¬ì…‹ ì—°ê²°í•˜ê¸°</h3>

<p>ì¿¼ë¦¬ì…‹ë“¤ì„ í•¨ê»˜ ì—°ê²°(chaining)í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">published_date__lte</span><span class="o">=</span><span class="n">timezone</span><span class="p">.</span><span class="n">now</span><span class="p">()).</span><span class="n">oreder_by</span><span class="p">(</span><span class="s">'published_date'</span><span class="p">)</span>
</code></pre></div></div>

:ET