I"“%<p>ì°¸ê³ : ì½”ë“œë¡œ ë°°ìš°ëŠ” ìŠ¤í”„ë§ ì›¹ í”„ë¡œì íŠ¸</p>

<ul>
  <li>
    <p>ê¸°ë³¸ ë™ì‘ ë°©ì‹</p>

    <ul>
      <li>ì„œë¸”ë¦¿ì˜ ì—¬ëŸ¬ ì¢…ë¥˜ì˜ í•„í„°ì™€ ì¸í„°ì…‰í„°ë¥¼ ì´ìš©í•´ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.</li>
      <li>í•„í„°: ì„œë¸”ë¦¿ì—ì„œ ë§í•˜ëŠ” ë‹¨ìˆœí•œ í•„í„°</li>
      <li>
        <p>ì¸í„°ì…‰í„°(Interceptor): ìŠ¤í”„ë§ì—ì„œ í•„í„°ì™€ ìœ ì‚¬í•œ ì—­í• </p>
      </li>
      <li>í•„í„°ì™€ ì¸í„°ì…‰í„°ëŠ” íŠ¹ì •í•œ ì„œë¸”ë¦¿ì´ë‚˜ ì»¨íŠ¸ë¡¤ ì˜ ì ‘ê·¼ì— ê´€ì—¬í•œë‹¤ëŠ” ì ì—ì„œëŠ” ìœ ì‚¬í•˜ì§€ë§Œ ê²°ì •ì ì¸ ì°¨ì´ë¥¼ êµ¬ë¶„í•˜ìë©´ í•„í„°ëŠ” ìŠ¤í”„ë§ê³¼ ë¬´ê´€í•˜ê²Œ ì„œë¸”ë¦¿ ìì›ì´ê³ , ì¸í„°ì…‰í„°ëŠ” ìŠ¤í”„ë§ì˜ ë¹ˆìœ¼ë¡œ ê´€ë¦¬ë˜ë©´ì„œ ìŠ¤í”„ë§ì˜ ì»¨í…ìŠ¤íŠ¸ ë‚´ì— ì†í•œë‹¤ëŠ” ì°¨ì´ ì…ë‹ˆë‹¤.</li>
    </ul>
  </li>
</ul>

<p><img src="https://t1.daumcdn.net/cfile/tistory/9983FB455BB4E5D30C" alt="img" /></p>

<ul>
  <li>ì¸í„°ì…‰í„°ëŠ” ìŠ¤í”„ë§ì˜ ë‚´ë¶€ì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•  ë•Œ ê´€ì—¬í•˜ê¸° ë•Œë¬¸ì— ìŠ¤í”„ë§ì˜ ì»¨í…ìŠ¤íŠ¸ ë‚´ì— ìˆëŠ” ëª¨ë“  ìì›ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ë¥¼ ì´ìš©í•˜ê²Œ ë˜ë©´ ì¸í„°ì…‰í„°ì™€ í•„í„°ë¥¼ ì´ìš©í•˜ë©´ì„œ ë³„ë„ì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ì—¬ ì²˜ë¦¬ë©ë‹ˆë‹¤.</li>
  <li>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ëŠ” í˜„ì¬ ë™ì‘í•˜ëŠ” ìŠ¤í”„ë§ ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ì´ë¯¸ ì»¨í…ìŠ¤íŠ¸ì— í¬í•¨ëœ ì—¬ëŸ¬ ë¹ˆë“¤ì„ ê°™ì´ ì´ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ë°©ì‹ì˜ ì¸ì¦ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>

<h3 id="ì„¤ì •">ì„¤ì •</h3>

<ul>
  <li>pom.xmlì— ì¶”ê°€</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     <span class="c">&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-security-core<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>5.0.8.RELEASE<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>

		
<span class="c">&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-web --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-security-web<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>5.0.8.RELEASE<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>

<span class="c">&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-security-config<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>5.0.8.RELEASE<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<ul>
  <li>
    <p>security-context.xml ìƒì„±</p>

    <p>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ëŠ” ë‹¨ë…ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê¸°ì¡´ì˜ root-context.xmlì´ë‚˜ servlet-context.xmlê³¼ëŠ” ë³„ë„ë¡œ security-context.xmlì„ ë”°ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p>

    <ul>
      <li>ìƒì„± í›„ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì—ì„œ security í•­ëª©ì„ ì²´í¬í•œë‹¤.</li>
    </ul>
  </li>
  <li>
    <p>web.xml ì„¤ì •</p>

    <ul>
      <li>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ê°€ ìŠ¤í”„ë§ MVCì—ì„œ ì‚¬ìš©ë˜ê¸° ìœ„í•´ì„œëŠ” í•„í„°ë¥¼ ì´ìš©í•´ì„œ ìŠ¤í”„ë§ ë™ì‘ì— ê´€ì—¬í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.</li>
    </ul>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;web-app</span> <span class="na">version=</span><span class="s">"2.5"</span> <span class="na">xmlns=</span><span class="s">"http://java.sun.com/xml/ns/javaee"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span><span class="nt">&gt;</span>
  
	<span class="c">&lt;!-- The definition of the Root Spring Container shared by all Servlets and Filters --&gt;</span>
	<span class="nt">&lt;context-param&gt;</span>
		<span class="nt">&lt;param-name&gt;</span>contextConfigLocation<span class="nt">&lt;/param-name&gt;</span>
		<span class="nt">&lt;param-value&gt;</span>/WEB-INF/spring/root-context.xml<span class="nt">&lt;/param-value&gt;</span>
	<span class="nt">&lt;/context-param&gt;</span>
  	
	<span class="c">&lt;!-- Creates the Spring Container shared by all Servlets and Filters --&gt;</span>
	<span class="nt">&lt;listener&gt;</span>
		<span class="nt">&lt;listener-class&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="nt">&lt;/listener-class&gt;</span>
	<span class="nt">&lt;/listener&gt;</span>
  
	<span class="c">&lt;!-- Processes application requests --&gt;</span>
	<span class="nt">&lt;servlet&gt;</span>
		<span class="nt">&lt;servlet-name&gt;</span>appServlet<span class="nt">&lt;/servlet-name&gt;</span>
		<span class="nt">&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="nt">&lt;/servlet-class&gt;</span>
		<span class="nt">&lt;init-param&gt;</span>
			<span class="nt">&lt;param-name&gt;</span>contextConfigLocation<span class="nt">&lt;/param-name&gt;</span>
			<span class="nt">&lt;param-value&gt;</span>
				/WEB-INF/spring/appServlet/servlet-context.xml
				/WEB-INF/spring/spring-security.xml
			<span class="nt">&lt;/param-value&gt;</span>
		<span class="nt">&lt;/init-param&gt;</span>
		<span class="nt">&lt;load-on-startup&gt;</span>1<span class="nt">&lt;/load-on-startup&gt;</span>
	<span class="nt">&lt;/servlet&gt;</span>
  		
	<span class="nt">&lt;servlet-mapping&gt;</span>
		<span class="nt">&lt;servlet-name&gt;</span>appServlet<span class="nt">&lt;/servlet-name&gt;</span>
		<span class="nt">&lt;url-pattern&gt;</span>/<span class="nt">&lt;/url-pattern&gt;</span>
	<span class="nt">&lt;/servlet-mapping&gt;</span>
  
	<span class="c">&lt;!-- í•œê¸€ ì¸ì½”ë”© Start --&gt;</span>
	<span class="nt">&lt;filter&gt;</span>
		<span class="nt">&lt;filter-name&gt;</span>encodingFilter<span class="nt">&lt;/filter-name&gt;</span>
		<span class="nt">&lt;filter-class&gt;</span>
			org.springframework.web.filter.CharacterEncodingFilter
		<span class="nt">&lt;/filter-class&gt;</span>
		<span class="nt">&lt;init-param&gt;</span>
			<span class="nt">&lt;param-name&gt;</span>encoding<span class="nt">&lt;/param-name&gt;</span>
			<span class="nt">&lt;param-value&gt;</span>UTF-8<span class="nt">&lt;/param-value&gt;</span>
		<span class="nt">&lt;/init-param&gt;</span>
		<span class="nt">&lt;init-param&gt;</span>
			<span class="nt">&lt;param-name&gt;</span>forceEncoding<span class="nt">&lt;/param-name&gt;</span>
			<span class="nt">&lt;param-value&gt;</span>true<span class="nt">&lt;/param-value&gt;</span>
		<span class="nt">&lt;/init-param&gt;</span>
	<span class="nt">&lt;/filter&gt;</span>
	<span class="nt">&lt;filter-mapping&gt;</span>
		<span class="nt">&lt;filter-name&gt;</span>encodingFilter<span class="nt">&lt;/filter-name&gt;</span>
		<span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>
	<span class="nt">&lt;/filter-mapping&gt;</span>
	<span class="c">&lt;!-- í•œê¸€ ì¸ì½”ë”© End --&gt;</span>
<span class="nt">&lt;/web-app&gt;</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>ì¸ì¦(Authentication)</strong></p>

<ul>
  <li>ì‰½ê²Œ ë§í•´ì„œ â€˜ìì‹ ì„ ì¦ëª…í•˜ëŠ” ê²ƒâ€™</li>
  <li>ìê¸° ìŠ¤ìŠ¤ë¡œê°€ ë¬´ì–¸ê°€ ìì‹ ì„ ì¦ëª…í•  ë§Œí•œ ìë£Œë¥¼ ì œì‹œí•˜ëŠ” ê²ƒ</li>
</ul>

<p><strong>ê¶Œí•œ(Authorization)</strong></p>

<ul>
  <li>ë‚¨ì— ì˜í•´ ìê²©ì´ ë¶€ì—¬ëœë‹¤</li>
</ul>

<h3 id="authenticationmanagerì¸ì¦-ë§¤ë‹ˆì €">AuthenticationManager(ì¸ì¦ ë§¤ë‹ˆì €)</h3>

<ul>
  <li>ë‹¤ì–‘í•œ ë°©ì‹ì˜ ì¸ì¦ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¡œ ë˜ì–´ ìˆìŒ</li>
  <li>AuthenticationManager &lt;- ProviderManager &lt;- DaoAuthenticationProvider,,,,</li>
  <li>
    <p>ProviderManagerëŠ” ì¸ì¦ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ AuthenticationProviderë¼ëŠ” íƒ€ì…ì˜ ê°ì²´ë¥¼ ì´ìš©í•´ì„œ ì²˜ë¦¬ë¥¼ ìœ„ì„í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>AuthenticationProvider(ì¸ì¦ ì œê³µì)ëŠ” ì‹¤ì œ ì¸ì¦ ì‘ì—…ì„ ì§„í–‰í•©ë‹ˆë‹¤. ì´ë•Œ ì¸ì¦ëœ ì •ë³´ì— ê¶Œí•œì— ëŒ€í•œ ì •ë³´ë¥¼ ê°™ì´ ì „ë‹¬í•˜ê²Œ ë˜ëŠ”ë° ì´ ì²˜ë¦¬ëŠ” UserDetailsServiceë¼ëŠ” ì¡´ì¬ì™€ ê´€ë ¨ ìˆìŠµë‹ˆë‹¤. UserDetailsService ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ëŠ” ì‹¤ì œë¡œ ì‚¬ìš©ìì˜ ì •ë³´ì™€ ì‚¬ìš©ìê°€ ê°€ì§„ ê¶Œí•œì˜ ì •ë³´ë¥¼ ì²˜ë¦¬í•´ì„œ ë°˜í™˜í•˜ê²Œ ë©ë‹ˆë‹¤.</p>
  </li>
  <li>ê°œë°œìê°€ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ëŠ” ë°©ì‹ì€ í¬ê²Œ AuthenticationProviderë¥¼ ì§ì ‘ êµ¬í˜„í•˜ëŠ” ë°©ì‹ê³¼ ì‹¤ì œ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ”  UserDetailsServiceë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì§‘ë‹ˆë‹¤.</li>
  <li>ëŒ€ë¶€ë¶„ì˜ ê²½ìš°ì—ëŠ” UserDetailsServiceë¥¼ êµ¬í˜„í•˜ëŠ” í˜•íƒœë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ì¶©ë¶„í•˜ì§€ë§Œ, ìƒˆë¡œìš´ í”„ë¡œí† ì½œì´ë‚˜ ì¸ì¦ êµ¬í˜„ ë°©ì‹ì„ ì§ì ‘ êµ¬í˜„í•˜ëŠ” ê²½ìš°ì—ëŠ” AuthenticationProvider ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§ì ‘ êµ¬í˜„í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
</ul>
:ET