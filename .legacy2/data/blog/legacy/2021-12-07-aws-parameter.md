---
title: AWS - ν™κ²½λ³€μ μ„¤μ •
date: 2021-12-07 22:18:47
categories:
tags:
---

κ°λ°μ„ ν•λ‹¤λ³΄λ©΄ APIν‚¤λ‚ λ°μ΄ν„°λ² μ΄μ¤ λΉ„λ°€λ²νΈ κ°™μ΄ μ™Έλ¶€μ— μ μ¶λλ©΄ μ•λλ” μ •λ³΄λ“¤μ„ μ‚¬μ©ν•κ² λλ‹¤. μ΄ κ°’λ“¤μ€ μ†μ¤μ½”λ“μ— μ§μ ‘ ν¬ν•¨ν•μ—¬ git κ°™μ€ κ³³μ— κ³µμ ν•  κ²½μ° λ¬Έμ κ°€ λ°μƒν•  μ μκΈ° λ•λ¬Έμ— ν™κ²½λ³€μλ΅ λ§λ“¤μ–΄μ„ νμΌμ„ λ”°λ΅ κ΄€λ¦¬ν•΄ μ£Όμ–΄μ•Ό ν•λ‹¤.

μ‹¤μµμ„ ν•λ” λ™μ•μ—λ” .env νμΌμ„ μ‚¬μ©ν•μ—¬ ν™κ²½λ³€μλ¥Ό μ„¤μ •ν•΄μ£Όκ³  μ΄ νμΌμ΄ GitHubμ— μ¬λΌκ°€μ§€ μ•λ„λ΅ μ„¤μ •ν•μ—¬ κ΄€λ¦¬ν–λ‹¤. AWSμ— λ°°ν¬λ¥Ό ν•  λ•λ„ μ΄μ™€ λΉ„μ·ν• μ„¤μ •μ„ ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.

<aside>
π“ ν™κ²½λ³€μλ…μ€ λ΅μ»¬μ—μ„ κ°λ°ν•  λ• μ‚¬μ©ν•λ μ΄λ¦„ κ·Έλ€λ΅ μ„¤μ •ν•΄μ£Όλ©΄ λλ‹¤.

</aside>

### ν΄λΌμ΄μ–ΈνΈ

CodeBuild μ„λΉ„μ¤μ—μ„ ν™κ²½ λ³€μ μ„¤μ •μ„ ν•  μ μλ‹¤.

λ°°ν¬ ν”„λ΅μ νΈ β†’ νΈμ§‘ β†’ ν™κ²½ β†’ μ¶”κ°€ κµ¬μ„± β†’ ν™κ²½λ³€μ μ…λ ¥ β†’ ν™κ²½ μ—…λ°μ΄νΈ β†’ λ³€κ²½μ‚¬ν•­ λ¦΄λ¦¬μ¦

μ„ λ‹¨κ³„λ΅ ν™κ²½λ³€μλ¥Ό μ„¤μ •ν•λ©΄ λ°°ν¬λ ν΄λΌμ΄μ–ΈνΈμ— ν™κ²½λ³€μλ¥Ό μ μ©ν•  μ μλ‹¤.

### μ„λ²„

AWS Parameter Store μ„λΉ„μ¤λ¥Ό μ΄μ©ν•μ—¬ EC2 μΈμ¤ν„΄μ¤μ— ν™κ²½λ³€μλ¥Ό μ „λ‹¬ν•  μ μλ‹¤. ν™κ²½ λ³€μ μ„¤μ •μ— μ•μ„ EC2μ— AWS CLIκ°€ μ„¤μΉλμ–΄ μμ–΄μ•Ό ν™κ²½λ³€μκ°€ μ „λ‹¬λ  μ μλ‹¤.

νλΌλ―Έν„° μƒμ„± β†’ ν™κ²½λ³€μλ…, ν™κ²½λ³€μκ°’μ„ μ…λ ¥ β†’ νλΌλ―Έν„° μƒμ„± β†’ μλ™ν™”λ°°ν¬ λ• μ‚¬μ©ν–λ μ½”λ“μ— ν™κ²½λ³€μλ¥Ό κ°€μ Έμ¬ μ μλ” μ½”λ“λ¥Ό μ‘μ„±

```jsx
export DATABASE_USER=$(aws ssm get-parameters --region ap-northeast-2 --names DATABASE_USER --query Parameters[0].Value | sed 's/"//g')
```
