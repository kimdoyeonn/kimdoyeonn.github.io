---
title: "[OS]04_운영체제 구조 - 사용자 모드와 커널 모드"
excerpt: ""
category:
  - 컴퓨터 공학
tags: [운영체제, 컴퓨터 공학]
---

> #### kernel
>
> OS kernel, OS의 핵심 부분
>
> #### Shell
>
> OS를 둘러싸고 있는 프로그램

#### CPU Protection Rings

- CPU의 권한

  - 사용자 모드(user mode by applications)

    - 응용프로그램이 사용(ring 3)

  - 커널 모드(kernel mode by OS): 특권 명령어 실행과 원하는 작업 수행을 위한 자원 접근을 가능하게 하는 모드

    - OS가 사용(ring 0)

    ![운영체제구조](https://kwonsoonwoo.github.io/assets/Operating%20System/protectionring.png)

#### 커널 모드

- 시스템 콜은 커널 모드로만 실행
- 커널 모드에서만 실행 가능한 기능들이 있음
- 커널 모드로 실행하려면 반드시 시스템 콜을 거쳐서 사용해야함(시스템 콜을 사용하지 않고는 커널 모드를 실행할 수 없음)
- 시스템 콜은 운영체제가 제공



모드를 둘로 나눔으로서 응용 프로그램이 함부로 컴퓨터 전체 시스템을 해치지 못하게 된다. 이것은 주민등록등본을 꼭 동사무소 또는 민원24에서 특정 신청서를 작성해야만 발급가능한 것과 같은 맥락이다.

- 동사무소 직원분들이 특별한 권한을 가지고, 주민등록등본 출력 명령을 실행





#### 정리

- 시스템 콜: 운영체제가 운영체제의 기능을 제공하기 위해 제공
- API: 프로그래밍 언어별로 운영체제의 기능을 활용하기 위해 시스템 콜 기반으로 작성하여 제공

- 실행 과정
  1. 응용프로그램이 운영체제의 기능이 필요하면 해당 API를 사용해서 프로그램을 작성
  2. 응용 프로그램이 실행되면서 운영체제 기능을 사용하는 API를 호출
  3. API는 시스템 콜을 호출
  4. 커널 모드로 변경되면서 OS 내부에서 해당 명령이 실행
  5. 다시 응용 프로그램으로 돌아와 다음 코드를 실행