---
title: "[python] copy()"
excerpt: ""
category:
  - python
tags: [python, function, copy]
---

리스트를 복사할 때 사용하는 `copy()`함수는 주의해서 사용해야한다.
리스트를 복사한 후 원솟값을 변경하면 복사된 원솟값까지 변경될 수 있기 때문이다.

```python
>>> a=[[1,2,3],[2,3,4]]
>>> b=a.copy()
>>> a[0][0]=10
>>> a
[[10, 2, 3], [2, 3, 4]]
>>> b
[[10, 2, 3], [2, 3, 4]]
```

그 이유는 리스트의 얕은 복사(shallow copy)를 수행하기 때문이다. 

- 얕은 복사(shallow copy): 리스트 안의 모든 원소가 참조하는 곳까지 복사된다.
- 깉은 복사:(deep copy): 구성 원소 수준으로 복사하는 방법. copy 모듈 안의 deepcopy() 함수로 수행한다.

```python
>>> import copy
>>> a=[[1,2,3],[2,3,4]]
>>> b=copy.deepcopy(a)
>>> a[0][1]=9
>>> a
[[1, 9, 3], [2, 3, 4]]
>>> b
[[1, 2, 3], [2, 3, 4]]
```

- 위의 코드에서 볼 수 있듯이 리스트의 원소뿐만 아니라 구성원소(원소의 원소)도 복사된다.





>객체가 갖는 멤버의 값을 새로운 객체로 복사할 때 객체가 참조 자료형의 멤버를 포함할 경우 얕은 복사라고 하며, 이는 참조값만 복사하는 방식이다.
>깊은 복사는 참조값 뿐만 아니라 참조하는 객체 자체를 복사한다. 즉, 객체가 갖는 모든 멤버(값과 참조 형식 모두)를 복사하므로 전체 복사라고도 한다.

