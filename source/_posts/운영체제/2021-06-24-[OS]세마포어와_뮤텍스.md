---
title: "[OS]세마포어와 뮤텍스의 차이"
excerpt: ""
category:
  - OS
tags: [OS]
---

### 정의

세마포어와 뮤텍스는 `여러 프로세스나 스레드가 공유 자원에 접근하는 것을 제어하기 위한 방법`으로 정의할 수 있습니다. 즉, **병렬 처리를 위한 프로세스 동기화 기법**입니다.

예를 들자면 교차하는 철도에서 열차의 진행가능 여부를 나타내는 신호등이 세마포어나 뮤텍스가 될 수 있습니다.

### 세마포어의 동작 원리

세마포어의 동작 원리를 알려면 세마포어 변수, semWait 연산, semSignal 연산에 대해 먼저 알아야 합니다.

세마포어는 정수 값을 가지는 변수로 볼 수 있습니다. 그 정수 값은 접근할 수 있는 최대 허용치만큼 동시에 사용자 접근을 할 수 있게 합니다.

- semWait 연산 : 세마포어 값을 감소시킵니다. 만일 값이 음수가 되면 semWati를 호출한 프로세스는 블록됩니다. 음수가 아니면, 프로세스는 계속 수행될 수 있습니다.
- semSignal 연산 : 세마포어 값을 증가시킵니다. 만약 값이 양수가 아니면 (0이거나 음수면) semWait 연산에 의해 블록된 프로세스들을 깨웁니다.

### 세마포어의 종류

세마포어는 유자힐 수 있는 값의 범위에 따라 이진 세마포어와 범용 세마포어(또는 카운팅 세마포어)로 구분됩니다.

위에서 봤던 세마포어를 카운팅 세마포어(counting semaphore) 또는 범용 세마포어(genaral semaphore)라고 부릅니다. 세마포어의 초기값이 0 이상의 수입니다.

이진 세마포어(binary semaphore)는 세마포어의 초기 값이 0 또는 1만 가질 수 있는 세마포어입니다.

이렇게 세마포어의 초기 값에 따라 범용 세마포어, 이진 세마포어로 나뉘는 것을 알 수 있습니다.

> 세마포어는 큐에 프로세스들이 여러 개 있을 때 어떤 프로세스부터 깨울지에 따라 강성 세마포어와 악성 세마포어로 나뉩니다. 큐에서 선입선출로 꺼낸다면 강성 세마포어이며, 프로세스들이 큐에서 제거되는 순서를 특별히 명시하지 않는 세마포어를 약성 세마포어라고 합니다.



### 뮤텍스

뮤텍스는 세마포어와 마찬가지로 병렬 처리를 위한 동기화 기법 중 하나입니다. 이진 세마포어와 같이 초기값을 1과 0으로 가집니다.

임계영역에 들어갈 때 `락(lock)`을 걸어 다른 프로세스나 스레드가 접근하지 못하도록 하고, 임계 영역에서 나와 해당 락을 `해제(unlock)`합니다.



### 뮤텍스와 세마포어의 차이

- 세마포어는 공유자원에 세마포어의 변수만큼의 프로세스 혹은 스레드가 접근할 수 있습니다. 반면에 뮤텍스는 오직 1개의 프로세스 또는 스레드만 접근할 수 있습니다.
- 현재 수행중인 프로세스가 아닌 다른 프로세스가 세마포어를 해제할 수 있습니다. 하지만 뮤텍스는 락(lock)을 획득한 프로세스가 반드시 그 락을 해제해야 합니다.



출처 : https://velog.io/@conatuseus/OS-%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4%EC%99%80-%EB%AE%A4%ED%85%8D%EC%8A%A4

